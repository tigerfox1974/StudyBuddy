# ============================================
# StudyBuddy Production Environment Variables
# ============================================
# 
# Bu dosya production deployment için environment variables template'idir.
# Bu dosyayı .env olarak kopyalayın ve değerleri production değerleriyle doldurun.
# 
# ÖNEMLİ: ASLA bu dosyayı production değerleriyle commit ETMEYİN!
# ============================================

# ============================================
# Flask Settings (Production)
# ============================================

# ZORUNLU: Güçlü secret key oluşturmak için:
# python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=

# Production mode
FLASK_ENV=production
FLASK_DEBUG=false

# ============================================
# Session and Security (Production)
# ============================================

# HTTPS zorunlu (HTTP'de çalışmaz)
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# ============================================
# OpenAI API
# ============================================

# ZORUNLU: Production API key
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4.1-mini

# Production'da demo mode KAPALI
DEMO_MODE=false

# ============================================
# Database (Production)
# ============================================

# Başlangıç için SQLite (production için PostgreSQL önerilir)
# PostgreSQL örneği: postgresql://user:password@postgres:5432/studybuddy
DATABASE_URL=sqlite:///studybuddy.db

# ============================================
# Email (SMTP) - Production
# ============================================

MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
# ZORUNLU: Production email
MAIL_USERNAME=
# ZORUNLU: App password veya SMTP password
MAIL_PASSWORD=
# ZORUNLU: Sender email
MAIL_DEFAULT_SENDER=

# ============================================
# Rate Limiting (Production)
# ============================================

# Redis kullanımı ÖNERİLİR (production için)
# Redis kullanmıyorsanız: memory:// (tek container için, restart'ta sıfırlanır)
RATELIMIT_STORAGE_URI=redis://redis:6379
RATELIMIT_ENABLED=true

# ============================================
# CSRF Protection (Production)
# ============================================

# ZORUNLU: Production'da AÇIK
WTF_CSRF_ENABLED=true
WTF_CSRF_TIME_LIMIT=None

# ============================================
# File Validation (Production)
# ============================================

# ZORUNLU: Security
VALIDATE_FILE_SIGNATURES=true

# ============================================
# Stripe Payment (Production)
# ============================================

# ZORUNLU: Production publishable key
STRIPE_PUBLISHABLE_KEY=
# ZORUNLU: Production secret key
STRIPE_SECRET_KEY=
# ZORUNLU: Webhook signing secret
STRIPE_WEBHOOK_SECRET=
STRIPE_ENABLED=true
STRIPE_CURRENCY=TRY

# ZORUNLU: Stripe Price IDs (production)
STRIPE_STANDARD_PRICE_ID=
STRIPE_STANDARD_PRODUCT_ID=
STRIPE_PREMIUM_PRICE_ID=
STRIPE_PREMIUM_PRODUCT_ID=

# Production URLs (kendi domain'inizle değiştirin)
STRIPE_SUCCESS_URL=https://yourdomain.com/checkout/success?session_id={CHECKOUT_SESSION_ID}
STRIPE_CANCEL_URL=https://yourdomain.com/checkout/cancel

# ============================================
# Gunicorn Settings (Production)
# ============================================

# Optional: Worker count (default: cpu_count * 2 + 1)
GUNICORN_WORKERS=4
# Optional: Log level (default: info)
GUNICORN_LOG_LEVEL=info

# ============================================
# Invoice Settings
# ============================================

INVOICE_COMPANY_NAME=StudyBuddy
# ZORUNLU: Şirket adresi
INVOICE_COMPANY_ADDRESS=
INVOICE_TAX_RATE=0.20

# ============================================
# Önemli Notlar
# ============================================
# 
# 1. HTTPS zorunlu (SESSION_COOKIE_SECURE=true)
# 2. Redis production'da önerilir (rate limiting için)
# 3. Tüm secrets güçlü ve unique olmalı
# 4. Stripe production keys kullanılmalı (test keys değil)
# 5. Database: PostgreSQL production için önerilir
# ============================================

# ============================================
# Alembic Migration Ayarlari (Production)
# ============================================

# UYARI: Production'da otomatik migration KAPALI olmalidir!
# Migration'lar manuel olarak uygulanmalidir:
# 1. Veritabani yedegi alin
# 2. alembic upgrade head --sql ile SQL'i inceleyin
# 3. alembic upgrade head ile migration'i uygulayin
AUTO_MIGRATE_ON_STARTUP=false
